server {
	root /var/www/html/public;
        listen 80;
        index index.php index.html;
        server_name testing.museumofthefuture.ae;
	server_tokens off;
            set $yii_bootstrap "index.php";


	index index.html index.htm index.php;

	add_header X-XSS-Protection "1; mode=block";

	add_header X-Content-Type-Options "nosniff";

	add_header X-Frame-Options "SAMEORIGIN";

	add_header Referrer-Policy "strict-origin-when-cross-origin";

	add_header Feature-Policy "autoplay 'self'; picture-in-picture 'self'";

	location = /favicon.ico { access_log off; log_not_found off; }
	location = /robots.txt  { access_log off; log_not_found off; }



	location / {
	      # root        /var/www/html/public;
		fastcgi_split_path_info ^(.+\.php)(/.+)$;
		fastcgi_param HTTP_PROXY "";
      		fastcgi_read_timeout  3600;
      		include               /etc/nginx/fastcgi_params;
      		keepalive_timeout     0;
      		fastcgi_pass          twill:9000;
      		fastcgi_index         index.php;

		        location ~* \.php$ {
            				include fastcgi_params;
					fastcgi_param   PATH_INFO         $fastcgi_path_info;
      					fastcgi_pass          twill:9000;
        		}

        }



	location ~* ^.*\.php$ {
                if (!-f $request_filename) {
                        return 404;
                }
	        root           /var/www/html/public;
                fastcgi_split_path_info ^(.+\.php)(/.+)$;
                fastcgi_param HTTP_PROXY "";

      		fastcgi_read_timeout  3600;
      		include               /etc/nginx/fastcgi_params;
      		keepalive_timeout     0;
      		fastcgi_pass          twill:9000;
      		fastcgi_index         index.php;

        }
   }
